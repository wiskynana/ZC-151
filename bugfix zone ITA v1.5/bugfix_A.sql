--
-- Struttura della tabella `zones_confronto`
--

CREATE TABLE IF NOT EXISTS `zones_confronto` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `sigla` varchar(3) CHARACTER SET utf8 NOT NULL,
  `id_vecchio` int(11) NOT NULL,
  `id_nuovo` int(11) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=MyISAM;

--
-- Dump dei dati per la tabella `zones_confronto`
--

INSERT INTO `zones_confronto` (`id`, `sigla`, `id_vecchio`) VALUES
(1, 'AG', 182),
(2, 'AL', 183),
(3, 'AN', 184),
(4, 'AO', 185),
(5, 'AR', 186),
(6, 'AP', 187),
(7, 'AT', 188),
(8, 'AV', 189),
(9, 'BA', 190),
(10, 'BL', 191),
(11, 'BN', 192),
(12, 'BG', 193),
(13, 'BI', 194),
(14, 'BO', 195),
(15, 'BZ', 196),
(16, 'BS', 197),
(17, 'BR', 198),
(18, 'CA', 199),
(19, 'CL', 200),
(20, 'CB', 201),
(21, 'CE', 202),
(22, 'CT', 203),
(23, 'CZ', 204),
(24, 'CH', 205),
(25, 'CO', 206),
(26, 'CS', 207),
(27, 'CR', 208),
(28, 'KR', 209),
(29, 'CN', 210),
(30, 'EN', 211),
(31, 'FE', 212),
(32, 'FI', 213),
(33, 'FG', 214),
(34, 'FO', 215),
(35, 'FR', 216),
(36, 'GE', 217),
(37, 'GO', 218),
(38, 'GR', 219),
(39, 'IM', 220),
(40, 'IS', 221),
(41, 'AQ', 222),
(42, 'SP', 223),
(43, 'LT', 224),
(44, 'LE', 225),
(45, 'LC', 226),
(46, 'LI', 227),
(47, 'LO', 228),
(48, 'LU', 229),
(49, 'MC', 230),
(50, 'MN', 231),
(51, 'MS', 232),
(52, 'MT', 233),
(53, 'ME', 234),
(54, 'MI', 235),
(55, 'MO', 236),
(56, 'NA', 237),
(57, 'NO', 238),
(58, 'NU', 239),
(59, 'OR', 240),
(60, 'PD', 241),
(61, 'PA', 242),
(62, 'PR', 243),
(63, 'PG', 244),
(64, 'PV', 245),
(65, 'PU', 246),
(66, 'PE', 247),
(67, 'PC', 248),
(68, 'PI', 249),
(69, 'PT', 250),
(70, 'PN', 251),
(71, 'PZ', 252),
(72, 'PO', 253),
(73, 'RG', 254),
(74, 'RA', 255),
(75, 'RC', 256),
(76, 'RE', 257),
(77, 'RI', 258),
(78, 'RN', 259),
(79, 'RM', 260),
(80, 'RO', 261),
(81, 'SA', 262),
(82, 'SS', 263),
(83, 'SV', 264),
(84, 'SI', 265),
(85, 'SR', 266),
(86, 'SO', 267),
(87, 'TA', 268),
(88, 'TE', 269),
(89, 'TR', 270),
(90, 'TO', 271),
(91, 'TP', 272),
(92, 'TN', 273),
(93, 'TV', 274),
(94, 'TS', 275),
(95, 'UD', 276),
(96, 'VA', 277),
(97, 'VE', 278),
(98, 'VB', 279),
(99, 'VC', 280),
(100, 'VR', 281),
(101, 'VV', 282),
(102, 'VI', 283),
(103, 'VT', 284),
(104, 'CI', 285),
(105, 'VS', 286),
(106, 'OG', 287),
(107, 'OT', 288),
(108, 'MB', 289),
(109, 'FM', 290),
(110, 'BT', 291);


update zones_confronto zc set zc.id_nuovo = (select z.zone_id from zones z where z.zone_code = zc.sigla and z.zone_country_id = 105);

update address_book ab set ab.entry_zone_id = (select zc.id_nuovo from zones_confronto zc where ab.entry_zone_id = zc.id_vecchio and ab.entry_zone_id != 0 and ab.entry_country_id = 105);